<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>EasyWin — Invest. Spin. Earn.</title>
  <meta name="description" content="EasyWin — Spin to win amazing deposit bonuses! Secure bank & crypto deposits with instant withdrawals.">
  
  <!-- Google Translate -->
  <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  
  <style>
    :root{
      --bg:#031026;
      --accent:#0a7fe6;
      --accent-2:#063a78;
      --glass: rgba(255,255,255,0.03);
      --muted: rgba(255,255,255,0.78);
      --muted-2: rgba(255,255,255,0.45);
      --success:#36d07f;
      --danger:#ff6b6b;
      --warning:#ffd74d;
      --card:#071827;
      --win-bg: linear-gradient(135deg, #36d07f, #2aa86c);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    }
    
    /* Prevent Zoom */
    * { touch-action: manipulation; }
    input, select, textarea { font-size: 16px; }
    
    html,body{height:100%;margin:0;background:
      radial-gradient(900px 520px at 12% 12%, rgba(10,127,230,0.055), transparent),
      radial-gradient(700px 420px at 88% 88%, rgba(6,58,120,0.055), transparent),
      var(--bg);
      color:#e6f7ff;-webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      overflow-x: hidden; }

    /* Google Translate Styling */
    .goog-te-combo { background: var(--glass) !important; border: 1px solid rgba(255,255,255,0.1) !important; 
      color: #fff !important; padding: 8px !important; border-radius: 8px !important; 
      font-family: inherit !important; margin: 10px 0 !important; }
    .goog-te-gadget { background: var(--glass) !important; border-radius: 8px !important; padding: 10px !important; }
    
    /* Background */
    .bg-canvas{position:fixed;inset:0;z-index:0;overflow:hidden;pointer-events:none}
    .bubble{position:absolute;border-radius:50%;mix-blend-mode:screen;opacity:.12;filter:blur(6px);
      background: radial-gradient(circle at 30% 30%, rgba(10,127,230,0.95), rgba(6,58,120,0.6));
      box-shadow:0 0 18px rgba(10,127,230,0.15);animation:float linear infinite;}
    @keyframes float{from{transform:translateY(0) rotate(0deg)}to{transform:translateY(-140vh) rotate(360deg)}}

    /* Celebration with Stars */
    .celebration{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:all 0.3s ease-out;pointer-events:none;background:rgba(0,0,0,0.7);backdrop-filter:blur(8px)}
    .celebration.show{opacity:1;visibility:visible}
    .celebration-content{text-align:center;background:var(--win-bg);padding:40px;border-radius:20px;box-shadow:0 20px 60px rgba(54,208,127,0.4);border:2px solid rgba(255,255,255,0.2)}
    .celebration-stars{position:absolute;width:100%;height:100%;pointer-events:none}
    .celebration-star{position:absolute;font-size:30px;color:#fff;animation:explode 2s ease-out forwards;opacity:0}
    @keyframes explode{0%{transform:scale(0) rotate(0deg);opacity:1}50%{transform:scale(1.5) rotate(180deg);opacity:0.8}100%{transform:scale(0) rotate(720deg);opacity:0;transform:translate(var(--dx), var(--dy))}}

    /* Layout */
    .wrap{position:relative;z-index:2;max-width:1200px;margin:20px auto;padding:18px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px;background:var(--glass);padding:12px;border-radius:12px;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.05)}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;font-weight:900;color:#fff;font-size:20px;box-shadow:0 8px 32px rgba(10,127,230,0.3)}
    .brand h1{margin:0;font-size:18px}
    nav.desktop{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
    nav.desktop a{color:var(--muted);font-weight:700;cursor:pointer !important;padding:8px 16px;border-radius:8px;transition:all 0.2s;text-decoration:none;display:inline-block}
    nav.desktop a:hover{background:var(--glass);color:#fff}
    nav.desktop a.active{background:var(--accent);color:#021426}
    .cta{background:linear-gradient(135deg,var(--accent),#1aa1ff);padding:12px 20px;border-radius:12px;color:#021426;font-weight:800;cursor:pointer !important;box-shadow:0 8px 32px rgba(10,127,230,0.3);transition:transform 0.2s;border:none}
    .cta:hover{transform:translateY(-2px)}
    .hamburger{display:none;background:transparent;border:0;color:var(--muted);font-size:20px;padding:8px;border-radius:8px;cursor:pointer !important}
    @media(max-width:920px){nav.desktop{display:none}.hamburger{display:inline-flex}}
    .mobile-nav{display:none;position:fixed;right:12px;top:80px;background:linear-gradient(180deg, rgba(6,58,120,0.98), rgba(6,58,120,0.9));padding:16px;border-radius:12px;box-shadow:0 10px 40px rgba(0,0,0,0.6);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.1);z-index:100;width:280px}
    .mobile-nav.show{display:block}
    .mobile-nav a{display:block;padding:12px 8px;color:#e6f5ff;border-radius:8px;margin-bottom:4px;transition:background 0.2s;cursor:pointer !important}
    .mobile-nav a:hover{background:var(--glass)}

    main{display:grid;grid-template-columns:1fr;gap:26px;margin-top:18px}
    .card{background:linear-gradient(180deg,var(--card), rgba(0,0,0,0.4));border-radius:14px;padding:20px;box-shadow:0 10px 40px rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.03);margin-bottom:20px;backdrop-filter:blur(10px)}
    .card-section{display:none}
    .card-section.active{display:block}
    h2{margin:0 0 16px 0;font-size:24px;cursor:pointer}
    p.lead{color:var(--muted);margin-top:8px;line-height:1.6}

    /* Testimonials Slider */
    .testimonials-slider{position:relative;overflow:hidden;width:100%;height:280px;margin:20px 0}
    .testimonials-wrapper{display:flex;transition:transform 0.8s ease-in-out;transform:translateX(0)}
    .testimonial{flex:0 0 100%;padding:20px;background:var(--glass);border-radius:12px;border-left:4px solid var(--accent);box-sizing:border-box;opacity:0;transition:opacity 0.5s ease-in-out}
    .testimonial.active{opacity:1}
    .stars{display:flex;gap:2px;margin-bottom:12px}
    .star-rating{color:var(--warning);font-size:18px}

    /* Spinning Button */
    .spin-btn{animation:spin 2s linear infinite paused}
    .spin-btn.spinning{animation-play-state:running}
    @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}

    /* Center CTA */
    .center-cta{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);z-index:40;display:flex;flex-direction:column;align-items:center;gap:16px;pointer-events:none}
    .center-cta > *{pointer-events:auto}
    .spin-big{width:160px;height:160px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--accent),var(--accent-2));box-shadow:0 20px 60px rgba(10,127,230,0.3);cursor:pointer !important;font-weight:900;font-size:20px;color:#021426;border:none;transition:all 0.3s}
    .spin-big:hover{transform:scale(1.1) rotate(10deg)}

    /* Modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.8);display:none;align-items:center;justify-content:center;z-index:1000;backdrop-filter:blur(8px)}
    .modal-backdrop.show{display:flex}
    .modal{width:95%;max-width:900px;background:linear-gradient(180deg,#051226,#0c2940);border-radius:20px;padding:24px;box-shadow:0 30px 100px rgba(0,0,0,0.9);border:1px solid rgba(255,255,255,0.1);max-height:90vh;overflow-y:auto}
    .wheel{width:400px;height:400px;border-radius:50%;position:relative;overflow:hidden;background:conic-gradient(from 0deg, #07335a 0deg 36deg, #0a7fe6 36deg 72deg, #07335a 72deg 108deg, #0a7fe6 108deg 144deg, #07335a 144deg 180deg, #0a7fe6 180deg 216deg, #07335a 216deg 252deg, #0a7fe6 252deg 288deg, #07335a 288deg 324deg, #0a7fe6 324deg 360deg);box-shadow:0 0 0 8px rgba(255,255,255,0.1), 0 20px 60px rgba(0,0,0,0.8);transition:transform 4s cubic-bezier(0.25, 0.46, 0.45, 0.94)}
    @media(max-width:700px){.wheel{width:300px;height:300px}}
    .wheel-center{width:120px;height:120px;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#041a2b,#07324f);display:flex;align-items:center;justify-content:center;font-weight:900;color:#fff;font-size:16px;z-index:10;box-shadow:inset 0 0 20px rgba(0,0,0,0.5)}
    .pointer{position:absolute;top:-10px;left:50%;transform:translateX(-50%);width:0;height:0;border-left:25px solid transparent;border-right:25px solid transparent;border-top:40px solid #ffd74d;z-index:20;filter:drop-shadow(0 4px 8px rgba(0,0,0,0.5))}

    /* Forms */
    input,textarea,select{padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);background:var(--glass);color:#fff;width:100%;margin-top:8px;box-sizing:border-box;font-size:16px}
    input:focus,textarea:focus,select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(10,127,230,0.2)}
    button{padding:12px 20px;border-radius:10px;border:0;background:var(--accent);color:#021426;font-weight:800;cursor:pointer !important;transition:all 0.2s;width:100%;margin-top:8px}
    button:disabled{opacity:0.5;cursor:not-allowed}
    button.ghost{background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.1)}
    .btn-group{display:flex;gap:12px;flex-wrap:wrap}
    .btn-group > *{flex:1;min-width:120px}
    .payment-method{display:flex;align-items:center;gap:12px;padding:16px;border-radius:10px;background:var(--glass);cursor:pointer !important;transition:background 0.2s;margin-bottom:8px}
    .payment-method.active{background:var(--accent);color:#021426}
    .payment-details{margin-top:16px;padding:16px;background:var(--glass);border-radius:10px}
    .copy-btn{background:var(--accent-2);padding:8px 12px;border-radius:6px;font-size:12px;width:auto;margin-top:4px;cursor:pointer !important}

    /* Translate Section */
    .translate-section{text-align:center;margin:20px 0;background:var(--glass);padding:15px;border-radius:12px}
    #google_translate_element{width:100%;text-align:center}

    @media(max-width:700px){
      .center-cta{display:none}
      .modal{padding:16px}
      .mobile-nav{right:0;width:100%;top:70px}
    }
  </style>
</head>
<body>
  <!-- Background -->
  <div class="bg-canvas" id="bg"></div>
  
  <!-- Celebration Overlay -->
  <div id="celebration" class="celebration">
    <div class="celebration-content">
      <h2 style="margin:0;font-size:32px;color:#fff;text-shadow:0 0 20px rgba(255,255,255,0.5)">🎉 CONGRATULATIONS! 🎉</h2>
      <div id="prize-amount" style="font-size:48px;font-weight:900;color:#fff;margin:16px 0"></div>
      <p style="margin:0;color:rgba(255,255,255,0.9);font-size:18px">You won a massive bonus!</p>
      <div class="celebration-stars" id="celebrationStars"></div>
    </div>
  </div>

  <div class="wrap">
    <!-- Header -->
    <header>
      <div class="brand">
        <div class="logo">EW</div>
        <h1>EasyWin</h1>
        <div style="font-size:12px;color:var(--muted)">Invest. Spin. Earn.</div>
      </div>
      
      <!-- Google Translate -->
      <div class="translate-section">
        <div id="google_translate_element"></div>
      </div>
      
      <nav class="desktop" id="desktopNav">
        <a onclick="navTo('home')" class="active">🏠 Home</a>
        <a onclick="navTo('dashboard')">📊 Dashboard</a>
        <a onclick="navTo('deposit')">💰 Deposit</a>
        <a onclick="navTo('withdraw')">💸 Withdraw</a>
        <a onclick="navTo('referral')">👥 Referral</a>
        <a onclick="navTo('support')">💬 Support</a>
        <a onclick="navTo('faq')">📚 FAQ</a>
        <a onclick="navTo('login')">🔐 Login</a>
        <button class="cta" onclick="openWheel()">🎡 Spin Now</button>
      </nav>
      
      <button class="hamburger" id="hamburgerBtn">☰</button>
      <nav class="mobile-nav" id="mobileNav">
        <a onclick="navTo('home'); closeMobileNav()">🏠 Home</a>
        <a onclick="navTo('dashboard'); closeMobileNav()">📊 Dashboard</a>
        <a onclick="navTo('deposit'); closeMobileNav()">💰 Deposit</a>
        <a onclick="navTo('withdraw'); closeMobileNav()">💸 Withdraw</a>
        <a onclick="navTo('referral'); closeMobileNav()">👥 Referral</a>
        <a onclick="navTo('support'); closeMobileNav()">💬 Support</a>
        <a onclick="navTo('faq'); closeMobileNav()">📚 FAQ</a>
        <a onclick="navTo('login'); closeMobileNav()">🔐 Login</a>
        <button class="cta" onclick="openWheel(); closeMobileNav()" style="margin-top:12px">🎡 Spin Now</button>
      </nav>
    </header>

    <main id="content">
      <!-- HOME -->
      <section id="home" class="card-section active">
        <div class="card">
          <h2>Welcome to EasyWin!</h2>
          <p class="lead">Spin our exclusive promo wheel to unlock massive deposit bonuses up to <strong>$60,000!</strong></p>
          <button class="hero-btn" onclick="openWheel()" style="font-size:24px;padding:20px 40px;background:linear-gradient(135deg,var(--accent),var(--accent-2));border-radius:50px;box-shadow:0 15px 40px rgba(10,127,230,0.3);border:none;cursor:pointer !important;font-weight:900;transition:all 0.3s;margin:20px 0">🎡 SPIN TO WIN</button>
        </div>

        <!-- Testimonials -->
        <div class="card">
          <h2>👥 What Our Players Say</h2>
          <div class="testimonials-slider" id="testimonialsSlider">
            <div class="testimonials-wrapper" id="testimonialsWrapper">
              <div class="testimonial active">
                <div class="stars">⭐⭐⭐⭐⭐</div>
                <p>"The spin wheel is addictive! Won $3,000 bonus on my first try. Fast payouts!"</p>
                <div style="font-weight:700;margin-top:12px">— Lucas Martínez, Spain</div>
              </div>
              <div class="testimonial">
                <div class="stars">⭐⭐⭐⭐⭐</div>
                <p>"Simple crypto deposits, easy withdrawals. Best platform I've used!"</p>
                <div style="font-weight:700;margin-top:12px">— Ava Chen, Singapore</div>
              </div>
              <div class="testimonial">
                <div class="stars">⭐⭐⭐⭐⭐</div>
                <p>"Amazing bonuses! Deposited $500 and got $3,000 bonus instantly."</p>
                <div style="font-weight:700;margin-top:12px">— Noah Thompson, Canada</div>
              </div>
              <div class="testimonial">
                <div class="stars">⭐⭐⭐⭐⭐</div>
                <p>"Professional site, responsive support. Highly recommend!"</p>
                <div style="font-weight:700;margin-top:12px">— David Johnson, USA</div>
              </div>
              <div class="testimonial">
                <div class="stars">⭐⭐⭐⭐⭐</div>
                <p>"Started with $200, won big. Feels legit and fair!"</p>
                <div style="font-weight:700;margin-top:12px">— Sophie Müller, Germany</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- DASHBOARD -->
      <section id="dashboard" class="card-section">
        <div class="card">
          <h2>📊 Dashboard</h2>
          <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin:20px 0">
            <div class="card">
              <div style="color:var(--muted)">Balance</div>
              <div style="font-size:28px;font-weight:900;color:var(--success)" id="balance">$0</div>
            </div>
            <div class="card">
              <div style="color:var(--muted)">Total Deposits</div>
              <div style="font-size:28px;font-weight:900" id="totalDeposits">$0</div>
            </div>
            <div class="card">
              <div style="color:var(--muted)">Pending Withdrawals</div>
              <div style="font-size:28px;font-weight:900;color:var(--warning)" id="pendingWithdrawals">0</div>
            </div>
          </div>
          <button onclick="viewRecords()" class="ghost">View Transaction History</button>
        </div>
      </section>

      <!-- DEPOSIT -->
      <section id="deposit" class="card-section">
        <div class="card">
          <h2>💰 Deposit</h2>
          <div class="btn-group">
            <button id="bankBtn" class="payment-method active">🏦 Bank Transfer</button>
            <button id="cryptoBtn" class="payment-method">₿ Crypto</button>
          </div>
          
          <div id="bankDetails" class="payment-details">
            <h3>Bank Details</h3>
            <p><strong>Bank:</strong> EasyWin Bank</p>
            <p><strong>Account Name:</strong> EasyWin Trading Ltd</p>
            <p><strong>Account Number:</strong> 1234-5678-9012-3456</p>
            <button class="copy-btn" onclick="copyToClipboard('1234-5678-9012-3456')">Copy Account #</button>
          </div>
          
          <div id="cryptoDetails" class="payment-details" style="display:none">
            <h3>Crypto Wallets</h3>
            <p><strong>BTC:</strong> bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh</p>
            <p><strong>ETH:</strong> 0x742d35Cc6d8e8C80D09a6D91cB8C5c4e5e6f7g8h9i</p>
            <p><strong>USDT:</strong> 0x742d35Cc6d8e8C80D09a6D91cB8C5c4e5e6f7g8h9i</p>
            <div class="btn-group">
              <button class="copy-btn" onclick="copyToClipboard('bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh')">Copy BTC</button>
              <button class="copy-btn" onclick="copyToClipboard('0x742d35Cc6d8e8C80D09a6D91cB8C5c4e5e6f7g8h9i')">Copy ETH/USDT</button>
            </div>
          </div>
          
          <input id="depositAmount" type="number" min="50" placeholder="Deposit Amount (min $50)">
          <button id="depositProceed" onclick="processDeposit()" disabled>Confirm Deposit</button>
          <div id="depositMsg"></div>
        </div>
      </section>

      <!-- WITHDRAW -->
      <section id="withdraw" class="card-section">
        <div class="card">
          <h2>💸 Withdraw</h2>
          <input id="withdrawAmount" type="number" min="100" placeholder="Withdraw Amount (min $100)">
          <input id="withdrawAddress" type="text" placeholder="Bank Account # or Crypto Wallet Address">
          <button id="withdrawSubmit" onclick="processWithdraw()" disabled>Request Withdrawal</button>
          <div id="withdrawMsg"></div>
        </div>
      </section>

      <!-- Other sections (Referral, Support, FAQ, Login) -->
      <section id="referral" class="card-section">
        <div class="card">
          <h2>👥 Referral Program</h2>
          <p>Your referral code: <strong id="refCode"></strong></p>
          <button onclick="copyReferral()">Copy Referral Link</button>
        </div>
      </section>

      <section id="support" class="card-section">
        <div class="card">
          <h2>💬 Support</h2>
          <input id="supportEmail" type="email" placeholder="Your Email">
          <textarea id="supportMessage" rows="4" placeholder="Describe your issue..."></textarea>
          <button onclick="submitSupport()">Submit Ticket</button>
        </div>
      </section>

      <section id="faq" class="card-section">
        <div class="card">
          <h2>📚 FAQ</h2>
          <details><summary>How does spinning work?</summary><p>Enter deposit amount and spin to win bonuses!</p></details>
          <details><summary>Minimum deposit?</summary><p>$50 minimum deposit required.</p></details>
        </div>
      </section>

      <section id="login" class="card-section">
        <div class="card">
          <h2>🔐 Login</h2>
          <input id="loginEmail" type="email" placeholder="Email">
          <input id="loginPassword" type="password" placeholder="Password">
          <button onclick="loginUser()">Login</button>
          <button class="ghost" onclick="demoLogin()">Demo Login</button>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer style="margin-top:40px;padding:20px 0">
      <div class="card" style="text-align:center;color:var(--muted)">
        © 2025 EasyWin — Invest. Spin. Earn. | Secure • Transparent • Rewarding
      </div>
    </footer>
  </div>

  <!-- Floating Spin CTA -->
  <div class="center-cta">
    <button class="spin-big" onclick="openWheel()">🎡 Spin</button>
    <div style="color:var(--muted-2);font-size:13px">Unlock massive bonuses!</div>
  </div>

  <!-- Wheel Modal -->
  <div id="wheelModal" class="modal-backdrop">
    <div class="modal">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
        <h2>🎯 Spin & Win</h2>
        <button onclick="closeWheel()" style="background:none;border:none;color:#fff;font-size:24px;cursor:pointer">×</button>
      </div>
      <div style="position:relative;display:flex;justify-content:center;margin:20px 0">
        <div class="pointer"></div>
        <div class="wheel" id="spinWheel">
          <div class="wheel-center">SPIN</div>
        </div>
      </div>
      <div style="max-width:400px;margin:0 auto">
        <input id="spinDepositAmount" type="number" min="50" placeholder="Enter deposit amount (min $50)">
        <button id="spinButton" class="spin-btn" onclick="spinWheel()" disabled style="margin-top:12px">🎡 SPIN NOW</button>
        <div id="spinResult"></div>
      </div>
    </div>
  </div>

<script>
/* Google Translate */
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'en',
    includedLanguages: 'en,es,fr,de,it,pt,ru,zh-TW,ja,ko,ar,hi,th,vi,id,ms,fil',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
  }, 'google_translate_element');
}

/* Prevent Zoom */
document.addEventListener('touchstart', function(event) {
  if (event.touches.length > 1) event.preventDefault();
});

/* Navigation */
function navTo(section) {
  document.querySelectorAll('.card-section').forEach(s => s.classList.remove('active'));
  document.getElementById(section).classList.add('active');
  document.querySelectorAll('#desktopNav a').forEach(a => a.classList.remove('active'));
  const activeLink = document.querySelector(`#desktopNav a[onclick="navTo('${section}')"]`);
  if (activeLink) activeLink.classList.add('active');
  closeMobileNav();
  window.scrollTo({top: 0, behavior: 'smooth'});
}

function closeMobileNav() {
  document.getElementById('mobileNav').classList.remove('show');
}

document.getElementById('hamburgerBtn').addEventListener('click', function() {
  document.getElementById('mobileNav').classList.toggle('show');
});

/* Testimonials Rotation */
function initTestimonials() {
  const wrapper = document.getElementById('testimonialsWrapper');
  const testimonials = wrapper.children;
  let current = 0;
  
  function showNext() {
    Array.from(testimonials).forEach((t, i) => {
      t.classList.remove('active');
      if (i === current) t.classList.add('active');
    });
    current = (current + 1) % testimonials.length;
  }
  
  showNext();
  setInterval(showNext, 5000); // 5 seconds each
}

/* Wheel Segments */
const prizeTiers = [
  {deposit: 100, prize: 500}, {deposit: 0, prize: 0},
  {deposit: 200, prize: 1000}, {deposit: 0, prize: 0},
  {deposit: 500, prize: 3000}, {deposit: 0, prize: 0},
  {deposit: 1000, prize: 6000}, {deposit: 2000, prize: 12000},
  {deposit: 0, prize: 0}, {deposit: 10000, prize: 60000}
];

function openWheel() {
  document.getElementById('wheelModal').classList.add('show');
  document.getElementById('spinDepositAmount').focus();
}

function closeWheel() {
  document.getElementById('wheelModal').classList.remove('show');
}

function spinWheel() {
  const amount = parseInt(document.getElementById('spinDepositAmount').value);
  if (!amount || amount < 50) {
    alert('Minimum $50 deposit required!');
    return;
  }
  
  const btn = document.getElementById('spinButton');
  const wheel = document.getElementById('spinWheel');
  
  // Start spinning animations
  btn.classList.add('spinning');
  btn.disabled = true;
  btn.textContent = 'SPINNING...';
  
  // Wheel spin
  const spins = 5 + Math.random() * 5;
  const degrees = spins * 360 + Math.random() * 360;
  wheel.style.transform = `rotate(${degrees}deg)`;
  
  setTimeout(() => {
    // Determine result
    let result = prizeTiers.find(tier => tier.deposit === amount);
    if (!result || Math.random() < 0.3) { // 30% chance of no prize
      result = {deposit: amount, prize: 0};
    }
    
    btn.classList.remove('spinning');
    btn.disabled = false;
    btn.textContent = 'SPIN AGAIN';
    
    const resultDiv = document.getElementById('spinResult');
    if (result.prize > 0) {
      resultDiv.innerHTML = `<div class="success" style="font-size:24px;font-weight:bold">🎉 You won $${result.prize.toLocaleString()} BONUS!</div><p>Deposit $${result.deposit.toLocaleString()} to claim instantly!</p>`;
      showCelebration(result.prize);
      // Pre-fill deposit
      document.getElementById('depositAmount').value = result.deposit;
      saveSpinRecord({deposit: result.deposit, prize: result.prize, won: true});
    } else {
      resultDiv.innerHTML = `<div class="danger" style="font-size:24px">😔 No Prize This Time</div><p>Try a different amount or spin again!</p>`;
      saveSpinRecord({deposit: amount, prize: 0, won: false});
    }
  }, 4000);
}

/* Celebration with Stars */
function showCelebration(prize) {
  document.getElementById('prize-amount').textContent = `$${prize.toLocaleString()}`;
  document.getElementById('celebration').classList.add('show');
  
  // Create exploding stars
  const starsContainer = document.getElementById('celebrationStars');
  starsContainer.innerHTML = '';
  for (let i = 0; i < 20; i++) {
    const star = document.createElement('div');
    star.className = 'celebration-star';
    star.innerHTML = '⭐';
    star.style.left = Math.random() * 100 + '%';
    star.style.top = Math.random() * 100 + '%';
    star.style.setProperty('--dx', (Math.random() - 0.5) * 200 + 'px');
    star.style.setProperty('--dy', (Math.random() - 0.5) * 200 + 'px');
    star.style.animationDelay = Math.random() * 0.5 + 's';
    starsContainer.appendChild(star);
  }
  
  setTimeout(() => {
    document.getElementById('celebration').classList.remove('show');
  }, 5000);
}

/* Local Storage Functions */
function saveSpinRecord(record) {
  const records = JSON.parse(localStorage.getItem('ew_spins') || '[]');
  records.unshift({...record, timestamp: new Date().toISOString()});
  localStorage.setItem('ew_spins', JSON.stringify(records.slice(0, 100))); // Keep last 100
  updateDashboard();
}

function processDeposit() {
  const amount = parseInt(document.getElementById('depositAmount').value);
  if (amount < 50) {
    document.getElementById('depositMsg').innerHTML = '<span class="danger">Minimum $50 required!</span>';
    return;
  }
  
  const record = {
    id: 'dep_' + Date.now(),
    amount,
    method: document.getElementById('bankDetails').style.display !== 'none' ? 'bank' : 'crypto',
    status: 'pending',
    timestamp: new Date().toISOString()
  };
  
  const deposits = JSON.parse(localStorage.getItem('ew_deposits') || '[]');
  deposits.unshift(record);
  localStorage.setItem('ew_deposits', JSON.stringify(deposits));
  
  document.getElementById('depositMsg').innerHTML = '<span class="success">✅ Deposit recorded! Send funds to the displayed address.</span>';
  updateDashboard();
}

function processWithdraw() {
  const amount = parseInt(document.getElementById('withdrawAmount').value);
  const address = document.getElementById('withdrawAddress').value;
  
  if (amount < 100 || !address) {
    document.getElementById('withdrawMsg').innerHTML = '<span class="danger">Minimum $100 and valid address required!</span>';
    return;
  }
  
  const record = {
    id: 'wd_' + Date.now(),
    amount,
    address,
    status: 'pending',
    timestamp: new Date().toISOString()
  };
  
  const withdrawals = JSON.parse(localStorage.getItem('ew_withdrawals') || '[]');
  withdrawals.unshift(record);
  localStorage.setItem('ew_withdrawals', JSON.stringify(withdrawals));
  
  document.getElementById('withdrawMsg').innerHTML = '<span class="success">✅ Withdrawal request submitted! Processing within 24-48 hours.</span>';
  updateDashboard();
}

function updateDashboard() {
  const deposits = JSON.parse(localStorage.getItem('ew_deposits') || '[]');
  const totalDeposits = deposits.reduce((sum, d) => sum + d.amount, 0);
  const pendingWithdrawals = JSON.parse(localStorage.getItem('ew_withdrawals') || '[]').filter(w => w.status === 'pending').length;
  
  document.getElementById('totalDeposits').textContent = `$${totalDeposits.toLocaleString()}`;
  document.getElementById('pendingWithdrawals').textContent = pendingWithdrawals;
  
  // Simulate balance
  const spins = JSON.parse(localStorage.getItem('ew_spins') || '[]');
  const totalWins = spins.reduce((sum, s) => sum + (s.won ? s.prize : 0), 0);
  document.getElementById('balance').textContent = `$${totalWins.toLocaleString()}`;
}

function copyToClipboard(text) {
  navigator.clipboard.writeText(text).then(() => {
    alert('Copied to clipboard!');
  });
}

function copyReferral() {
  const code = localStorage.getItem('ew_refcode') || 'EW' + Math.random().toString(36).slice(2,8).toUpperCase();
  localStorage.setItem('ew_refcode', code);
  document.getElementById('refCode').textContent = code;
  navigator.clipboard.writeText(`${window.location.origin}/?ref=${code}`).then(() => {
    alert('Referral link copied!');
  });
}

function viewRecords() {
  const records = {
    spins: JSON.parse(localStorage.getItem('ew_spins') || '[]'),
    deposits: JSON.parse(localStorage.getItem('ew_deposits') || '[]'),
    withdrawals: JSON.parse(localStorage.getElement('ew_withdrawals') || '[]')
  };
  console.table(records);
  alert('Check console for transaction history');
}

/* Form Event Listeners */
document.addEventListener('DOMContentLoaded', function() {
  initTestimonials();
  updateDashboard();
  
  // Enable spin button
  document.getElementById('spinDepositAmount').oninput = function() {
    const amount = parseInt(this.value);
    document.getElementById('spinButton').disabled = !amount || amount < 50;
  };
  
  // Deposit button
  document.getElementById('depositAmount').oninput = function() {
    const amount = parseInt(this.value);
    document.getElementById('depositProceed').disabled = !amount || amount < 50;
  };
  
  // Payment method toggle
  document.getElementById('bankBtn').onclick = () => {
    document.getElementById('bankDetails').style.display = 'block';
    document.getElementById('cryptoDetails').style.display = 'none';
    document.getElementById('bankBtn').classList.add('active');
    document.getElementById('cryptoBtn').classList.remove('active');
  };
  
  document.getElementById('cryptoBtn').onclick = () => {
    document.getElementById('cryptoDetails').style.display = 'block';
    document.getElementById('bankDetails').style.display = 'none';
    document.getElementById('cryptoBtn').classList.add('active');
    document.getElementById('bankBtn').classList.remove('active');
  };
  
  // Auto-open wheel on first visit
  if (!localStorage.getItem('wheelSeen')) {
    setTimeout(openWheel, 3000);
    localStorage.setItem('wheelSeen', '1');
  }
  
  navTo('home');
});
</script>
</body>
</html>
